YUI.add("moodle-atto_embedquestion-button",function(e,t){var n="atto_embedquestion",r={PARAM:"atto_embedquestion_param"},i={BUTTON:'input[name="embedquestion"]'};e.namespace("M.atto_embedquestion").Button=e.Base.create("button",e.M.editor_atto.EditorPlugin,[],{_currentSelection:null,qForm:null,initializer:function(){var e,t;if(!this.get("enablebutton"))return;e=this.get("contextid"),t=this.get("elementid"),this.addButton({icon:"icon",iconComponent:n,callback:this._displayDialogue}),require(["atto_embedquestion/qform"],function(n){n.setContextId(e),n.setElementId(t),qForm=n})},_displayDialogue:function(){this._currentSelection=this.get("host").getSelection();if(this._currentSelection===!1)return;var e=this.getDialogue({headerContent:M.util.get_string("pluginname",n),focusAfterHide:!0,bodyContent:'<div class="atto-embedquestion-question-selector-wrapper"></div>'},!0);qForm.setRootNode(".atto-embedquestion-question-selector-wrapper"),qForm.setCurrentSelection(this._currentSelection),e.show(),qForm.insertQform()},_getDialogueContent:function(){},_insertQcode:function(e){var t=qForm.getQformData(),n="{Q{cat-id-num/que-id-num|id=3|courseid=31}Q}";this.getDialogue({focusAfterHide:null}).hide();var r=this.get("host");r.setSelection(this._currentSelection),r.insertContentAtFocusPoint(n),this.markUpdated()}},{ATTRS:{enablebutton:{value:!1},contextid:{value:!1},elementid:{value:!1}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});
